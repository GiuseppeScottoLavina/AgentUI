import{j as z,k as x,l as J}from"./chunk-qe84fbdd.js";import{o as H}from"./chunk-0f7ph7sp.js";import{p as F,q as G}from"./chunk-aeetm00j.js";var B={set(q){if(q==="auto"){let w=window.matchMedia("(prefers-color-scheme: dark)").matches;document.documentElement.setAttribute("data-theme",w?"dark":"light")}else document.documentElement.setAttribute("data-theme",q);localStorage.setItem("au-theme",q),z.emit(x.THEME_CHANGE,{theme:q})},get(){return document.documentElement.getAttribute("data-theme")||"light"},toggle(){let q=this.get();this.set(q==="dark"?"light":"dark")},init(){let q=localStorage.getItem("au-theme");if(q)this.set(q);else this.set("auto");this._mql=window.matchMedia("(prefers-color-scheme: dark)"),this._onMqlChange=(w)=>{if(localStorage.getItem("au-theme")==="auto")document.documentElement.setAttribute("data-theme",w.matches?"dark":"light")},this._mql.addEventListener("change",this._onMqlChange)},destroy(){if(this._mql&&this._onMqlChange)this._mql.removeEventListener("change",this._onMqlChange),this._mql=null,this._onMqlChange=null}};if(typeof window<"u")B.init();class K extends F{static baseClass="au-theme-toggle";connectedCallback(){super.connectedCallback(),this.listen(this,"click",()=>B.toggle()),z.on(x.THEME_CHANGE,()=>this.#q())}render(){this.innerHTML=H`
            <button class="au-theme-toggle__button" aria-label="Toggle theme">
                <span class="au-theme-toggle__icon"></span>
            </button>
        `,this.#q()}#q(){let q=B.get()==="dark",w=this.querySelector(".au-theme-toggle__icon");if(w)w.textContent=q?"☀️":"\uD83C\uDF19"}}G("au-theme-toggle",K);J("au-theme-toggle",{signals:[x.THEME_CHANGE],options:{themes:["light","dark"],emits:["click"]},description:"Theme toggle button that switches between light/dark modes"});export{K as AuThemeToggle};
