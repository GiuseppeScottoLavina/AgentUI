import{t as G,u as H}from"./chunk-xm6c90d2.js";class I extends G{static baseClass="au-progress";static cssFile="progress";static observedAttributes=["value","max","variant","indeterminate"];#q=null;render(){if(this.querySelector(".au-progress__progress")){this.#q=this.querySelector(".au-progress__primary-bar");return}this.setAttribute("role","progressbar"),this.innerHTML=`<div class="au-progress__progress${this.hasAttribute("indeterminate")?" au-progress__indeterminate":""}"> <div class="au-progress__bar au-progress__primary-bar"> <div class="au-progress__bar-inner"></div> </div> <div class="au-progress__bar au-progress__secondary-bar"> <div class="au-progress__bar-inner"></div> </div> </div>`,this.#q=this.querySelector(".au-progress__primary-bar"),this.#z(),this.#D()}update(z,D,q){if(z==="value"||z==="max")this.#z();if(z==="indeterminate"){let F=this.querySelector(".au-progress__progress");if(F)if(D!==null)F.classList.add("au-progress__indeterminate");else F.classList.remove("au-progress__indeterminate");this.#z()}this.#D()}#z(){let z=parseFloat(this.attr("value","0")),D=parseFloat(this.attr("max","100")),q=Math.min(100,Math.max(0,z/D*100));if(this.#q)this.#q.style.width=`${q}%`;if(this.setAttribute("aria-valuenow",z.toString()),this.setAttribute("aria-valuemax",D.toString()),!this.hasAttribute("aria-label")||this.dataset.autoLabel){let F=this.hasAttribute("indeterminate")?"Loading":`Progress: ${Math.round(q)}%`;this.setAttribute("aria-label",F),this.dataset.autoLabel="1"}}#D(){let D=["au-progress",`au-progress--${this.attr("variant","primary")}`];D.forEach((q)=>this.classList.add(q)),Array.from(this.classList).forEach((q)=>{if(q.startsWith("au-progress--")&&!D.includes(q))this.classList.remove(q)})}}H("au-progress",I);export{I as AuProgress};
