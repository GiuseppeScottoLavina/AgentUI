import{n as d,o as n,p as l,q as h,r as u}from"./chunk-1mzjthjp.js";var o=["date","time","datetime-local","month","week"];class c extends d{static baseClass="au-input";static cssFile="input";static observedAttributes=["type","placeholder","value","disabled","variant","size","label"];#t=null;render(){if(this.querySelector(".au-input__field")){this.#t=this.querySelector("input"),this.#i(),this.#s(),this.#e();return}let t=this.attr("type","text"),s=this.attr("placeholder",""),e=this.attr("label",""),i=this.attr("value",""),a=e||s,p=!a;if(!a&&!this.getAttribute("aria-label"))this.logError("A11Y_MISSING_LABEL","Input must have a label or aria-label attribute.");let r=this.id?`${this.id}__field`:`au-input-${Math.random().toString(36).substring(2,9)}`;this.innerHTML=u`${a?u`<label class="au-input__label" for="${r}">${a}</label>`:""} <input class="au-input__field" id="${r}" type="${t}" ${p?h(`placeholder="${l(s)}"`):""} ${!a?h(`aria-label="${l(s||"Text input")}"`):""} value="${i}" ${this.has("disabled")?"disabled":""} />`,this.#t=this.querySelector("input"),this.#i(),this.#s(),this.#e()}#e(){if(!this.#t)return;this.listen(this.#t,"input",(t)=>{this.#s(),this.emit("au-input",{value:t.target.value})}),this.listen(this.#t,"focus",()=>{this.emit("au-focus")}),this.listen(this.#t,"blur",()=>{this.#s(),this.emit("au-blur")})}#s(){let t=this.attr("type","text");if(o.includes(t)||this.#t?.value)this.classList.add("has-value");else this.classList.remove("has-value")}update(t,s,e){if(!this.#t)return;switch(t){case"value":this.#t.value=s??"",this.#s();break;case"placeholder":this.#t.placeholder=s??"";break;case"type":this.#t.type=s??"text",this.#s();break;case"disabled":this.#t.disabled=this.has("disabled");break}this.#i()}#i(){let t=this.attr("variant","outlined"),s=this.attr("size","md"),e=["au-input",`au-input--${t}`,`au-input--${s}`];if(e.forEach((i)=>this.classList.add(i)),Array.from(this.classList).forEach((i)=>{if(i.startsWith("au-input--")&&!e.includes(i))this.classList.remove(i)}),this.has("disabled"))this.classList.add("is-disabled");else this.classList.remove("is-disabled")}get value(){return this.#t?.value??""}set value(t){if(this.#t)this.#t.value=t,this.#s()}focus(){this.#t?.focus()}clear(){this.value=""}}n("au-input",c);
