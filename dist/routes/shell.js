import"./chunk-cacb7jx9.js";import"./chunk-gk5t4rfv.js";import"./chunk-pmkya0ke.js";import"./chunk-ty7yyx22.js";import"./chunk-nhya61pd.js";import"./chunk-ae6bkfs5.js";import"./chunk-tzzr6keq.js";import"./chunk-kma5vhbb.js";import"./chunk-8s5cxd9c.js";import"./chunk-c3f5ypg0.js";class o extends HTMLElement{static observedAttributes=[];static baseClass="";static cssFile=null;static _loadedCSS=new Set;static _bundleChecked=!1;static _bundleLoaded=!1;static useContainment=!0;static describe(){let e=this.baseClass||this.name.replace(/^Au/,"au-").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();if(o._describeCatalog?.[e])return o._describeCatalog[e];return{name:e,props:this.observedAttributes||[],baseClass:this.baseClass||"",cssFile:this.cssFile||null,version:"0.1.116"}}static _describeCatalog=null;_rendered=!1;_abortController=null;_timers=new Set;_intervals=new Set;constructor(){super();this._initAgentLogger()}_initAgentLogger(){if(!window.__AGENTUI_ERRORS__)window.__AGENTUI_ERRORS__=[];if(!window.AgentUIAgent)window.AgentUIAgent={reset:()=>{window.__AGENTUI_ERRORS__=[],console.log("[AgentUIAgent] Errors cleared")},getErrors:()=>window.__AGENTUI_ERRORS__,hasError:(e,t)=>{return window.__AGENTUI_ERRORS__.some((s)=>s.component===e.toLowerCase()&&s.code===t)}}}logError(e,t){let s={component:this.tagName.toLowerCase(),code:e,message:t,element:this,timestamp:Date.now()};window.__AGENTUI_ERRORS__.push(s),console.warn(`[AgentUI] ${e}: ${t}`,this)}connectedCallback(){if(!this._abortController)this._abortController=new AbortController;if(this.constructor.baseClass)this.classList.add(this.constructor.baseClass);if(this.constructor.useContainment&&!this.style.contain)this.style.contain="layout style";if(this.#e(),!this._rendered)this.render(),this._rendered=!0;this._loadComponentCSS(),this._inferSemanticAttributes()}#e(){this.listen(this,"click",(e)=>{let t=e.target.closest("[data-action]");if(!t||!this.contains(t))return;let s=t.dataset.action;if(this.handleAction)this.handleAction(s,t,e)})}_loadComponentCSS(){let e=this.constructor.cssFile;if(!e)return;if(!o._bundleChecked)o._bundleChecked=!0,o._bundleLoaded=!!document.querySelector('link[href*="agentui.css"], link[href*="agentui.min.css"]')||!!document.querySelector('link[href*="agentui-wc"]')||!!document.querySelector('link[href*="components.css"]')||!!document.querySelector("style[data-agentui]")||document.styleSheets&&Array.from(document.styleSheets).some((a)=>{try{return a.cssRules&&Array.from(a.cssRules).some((r)=>r.selectorText?.includes(".au-button")||r.selectorText?.includes(".au-chip"))}catch{return!1}});if(o._bundleLoaded)return;if(o._loadedCSS.has(e))return;o._loadedCSS.add(e);let t=document.createElement("link");t.id=`au-css-${e}`,t.rel="stylesheet";let s="/styles/",i=document.querySelector('link[href*="/styles/"]');if(i){let a=i.href.match(/(.*\/(?:src\/|dist\/)?styles\/)/);if(a)s=a[1]}else{let a=document.querySelector('link[href*="/dist/"]');if(a){let r=a.href.match(/(.*\/dist\/)/);if(r)s=r[1]+"styles/"}else{let r=document.querySelector('script[src*="/src/"]');if(r){let u=r.src.match(/(.*\/src\/)/);if(u)s=u[1]+"styles/"}}}t.href=`${s}components/${e}.css`,document.head.appendChild(t)}_inferSemanticAttributes(){let e=this.tagName.toLowerCase();if(this.hasAttribute("data-au-action"))return;let t="",s="";switch(e){case"au-button":t=this._inferButtonAction(),s=this._inferButtonRole();break;case"au-input":case"au-textarea":t="input",s="text-field";break;case"au-checkbox":case"au-switch":t="toggle",s="control";break;case"au-dropdown":t="select",s="selector";break;case"au-modal":t="dialog",s="overlay";break;case"au-tabs":t="navigate",s="navigation";break;case"au-card":s="container";break}if(t)this.setAttribute("data-au-action",t);if(s)this.setAttribute("data-au-role",s)}_inferButtonAction(){let e=this.textContent?.toLowerCase().trim()||"";if(/^(save|submit|confirm|send|create|add|apply|ok|yes)$/.test(e))return"submit";if(/^(cancel|close|dismiss|no|nevermind)$/.test(e))return"cancel";if(/^(delete|remove|clear|trash)$/.test(e))return"delete";if(/^(back|next|previous|forward|continue)$/.test(e))return"navigate";return"click"}_inferButtonRole(){let e=this.getAttribute("variant");if(e==="filled"||e==="elevated")return"primary-action";if(e==="tonal"||e==="outlined")return"secondary-action";if(e==="text")return"tertiary-action";if(e==="danger")return"destructive-action";return"action"}disconnectedCallback(){if(this._abortController)this._abortController.abort(),this._abortController=null;for(let e of this._timers)clearTimeout(e);this._timers.clear();for(let e of this._intervals)clearInterval(e);this._intervals.clear(),this.cleanup()}cleanup(){}attributeChangedCallback(e,t,s){if(t!==s&&this._rendered)this.update(e,s,t)}render(){}update(e,t,s){}setupEvents(){}attr(e,t=""){return this.getAttribute(e)??t}has(e){return this.hasAttribute(e)}emit(e,t={}){this.dispatchEvent(new CustomEvent(e,{bubbles:!0,composed:!0,detail:t}))}listen(e,t,s,i={}){if(!this._abortController)this._abortController=new AbortController;let a={...i,signal:this._abortController.signal};e.addEventListener(t,s,a)}setTimeout(e,t){let s;return s=setTimeout(()=>{this._timers.delete(s),e()},t),this._timers.add(s),s}setInterval(e,t){let s=setInterval(e,t);return this._intervals.add(s),s}setupActivation(e){this.updateTabindex(),this.listen(this,"keydown",(t)=>{if((t.key==="Enter"||t.key===" ")&&!this.has("disabled"))t.preventDefault(),e()})}updateTabindex(){this.setAttribute("tabindex",this.has("disabled")?"-1":"0")}setDisplay(e){this.style.display=e}get isDisabled(){return this.has("disabled")}}function d(e,t,s={}){if(customElements.get(e))return;let i=s.priority||"user-blocking";if(typeof scheduler<"u"&&scheduler.postTask)scheduler.postTask(()=>{if(!customElements.get(e))customElements.define(e,t)},{priority:i});else customElements.define(e,t)}var h=typeof window<"u"?window:globalThis,A=["ui:toast","ui:modal","ui:theme","ui:tabs","ui:dropdown","ui:form","ui:grid","ui:stack","ui:virtual-list"],S={type:"ui-framework",version:"0.1.116",description:"AI-Optimized UI Framework - Web Components Edition"};class g{#e=new Map;#t=new Map;#s=new Set;#i=new Set;#a=100;#n=!1;#r=Date.now();peerId;capabilities;meta;constructor(e={}){this.peerId=e.peerId??"default",this.capabilities=e.capabilities??[],this.meta=e.meta??{},this.#n=e.debug??!1}on(e,t){if(!this.#e.has(e))this.#e.set(e,new Set);let s=t;this.#e.get(e).add(s);let i=this.#e.get(e).size;if(i>this.#a)console.warn(`[AgentUI] Possible event leak: "${e}" has ${i} listeners (maxListeners: ${this.#a}). Use setMaxListeners() to increase.`);return{unsubscribe:()=>this.#e.get(e)?.delete(s)}}off(e,t){this.#e.get(e)?.delete(t)}emitSync(e,t){let s={event:e,data:t};for(let a of this.#i)s=a(s,{event:e})??s;let i=this.#e.get(e);if(i)for(let a of i){let r=s;for(let u of this.#s)r=u(r,{event:e})??r;a(r)}for(let[a,r]of this.#e)if(a.endsWith("*")&&e.startsWith(a.slice(0,-1))&&a!==e)for(let u of r)u(s)}async emit(e,t){return this.emitSync(e,t),{delivered:!0,event:e}}signal(e,t){this.emitSync(e,t)}hasListeners(e){return(this.#e.get(e)?.size??0)>0}handle(e,t){return this.#t.set(e,t),{unsubscribe:()=>this.#t.delete(e)}}unhandle(e){this.#t.delete(e)}async request(e,t,s){let i=this.#t.get(t);if(!i)throw Error(`No handler for '${t}'`);return i(s)}async broadcastRequest(e,t){return this.request(this.peerId,e,t)}addInboundHook(e){return this.#s.add(e),()=>this.#s.delete(e)}addOutboundHook(e){return this.#i.add(e),()=>this.#i.delete(e)}setMaxListeners(e){this.#a=e}get debug(){return this.#n}get peers(){return[]}get peerCount(){return 0}healthCheck(){return{status:"healthy",peerId:this.peerId,uptime:Date.now()-this.#r,listeners:this.#e.size,handlers:this.#t.size}}destroy(){this.#e.clear(),this.#t.clear(),this.#s.clear(),this.#i.clear()}}if(!h.__AGENTUI_BUS__)h.__AGENTUI_BUS__=new g({peerId:"agentui",capabilities:A,meta:S});var n=h.__AGENTUI_BUS__,m="__AGENTUI_COMPONENT_REGISTRY__";if(!h[m])h[m]=new Map;var E=h[m],c={on(e,t){let s=n.on(e,(i)=>{t(i.data??i)});return()=>s.unsubscribe()},once(e,t){let s=this.on(e,(i)=>{s(),t(i)})},off(e,t){n.off(e,t)},emit(e,t){return n.emitSync(e,t)},async emitAsync(e,t){return n.emit(e,t)},signal(e,t){n.signal(e,t)},async request(e,t,s){return n.request(e,t,s)},async broadcastRequest(e,t){return n.broadcastRequest(e,t)},handle(e,t){return n.handle(e,t)},unhandle(e){n.unhandle(e)},destroy(){n.destroy()},setMaxListeners(e){n.setMaxListeners(e)},get peerId(){return n.peerId},get peers(){return n.peers},get peerCount(){return n.peerCount},hasListeners(e){return n.hasListeners(e)},get raw(){return n}},l={TOAST_SHOW:"ui:toast:show",TOAST_DISMISS:"ui:toast:dismiss",MODAL_OPEN:"ui:modal:open",MODAL_CLOSE:"ui:modal:close",THEME_CHANGE:"ui:theme:change",TAB_CHANGE:"ui:tab:change",DROPDOWN_SELECT:"ui:dropdown:select",FORM_SUBMIT:"ui:form:submit",FORM_VALIDATE:"ui:form:validate"};var f=(e,t)=>{E.set(e,{...t,registeredAt:Date.now()})},T="scheduler"in globalThis;class _ extends o{static baseClass="au-toast";static cssFile=null;static observedAttributes=["severity","duration","position"];#e=null;#t=null;connectedCallback(){if(!this.#t&&!this.querySelector(".au-toast__content"))this.#t=this.innerHTML;super.connectedCallback(),this.listen(this,"click",(t)=>{if(t.target.classList.contains("au-toast__close"))this.dismiss()});let e=parseInt(this.attr("duration","3000"));if(e>0)this.#e=this.setTimeout(()=>this.dismiss(),e)}disconnectedCallback(){super.disconnectedCallback()}render(){if(this.querySelector(".au-toast__content")){this.#s();return}let e=this.#t||"";this.innerHTML=`
            <span class="au-toast__content">${e}</span>
            <button class="au-toast__close" aria-label="Dismiss">✕</button>
        `,this.#s()}update(e,t,s){this.#s()}#s(){let e=this.attr("severity","info"),t=this.attr("position","bottom-center"),s=["au-toast",`au-toast--${e}`,`au-toast--${t}`];s.forEach((i)=>this.classList.add(i)),Array.from(this.classList).forEach((i)=>{if(i.startsWith("au-toast--")&&!s.includes(i))this.classList.remove(i)})}dismiss(){this.emit("au-dismiss"),this.classList.add("is-exiting");let e=!1,t=()=>{if(!e)e=!0,this.remove()};this.addEventListener("animationend",t,{once:!0}),this.setTimeout(t,200)}}d("au-toast",_);class w extends o{static baseClass="au-toast-container";connectedCallback(){super.connectedCallback(),this.setAttribute("role","status"),this.setAttribute("aria-live","polite")}}d("au-toast-container",w);var p={show(e,t={}){let s=t.position||"bottom-center",i=document.querySelector(`au-toast-container[position="${s}"]`);if(!i)i=document.createElement("au-toast-container"),i.setAttribute("position",s),document.body.appendChild(i);let a=document.createElement("au-toast");if(a.textContent=e,t.severity)a.setAttribute("severity",t.severity);if(t.duration)a.setAttribute("duration",t.duration.toString());return i.appendChild(a),a}};if(typeof window<"u"&&c&&!c.hasListeners(l.TOAST_SHOW))c.on(l.TOAST_SHOW,(e)=>{p.show(e.message,e)});f("au-toast",{signals:[l.TOAST_SHOW,l.TOAST_DISMISS],options:{severities:["info","success","warning","error"],positions:["top-left","top-center","top-right","bottom-left","bottom-center","bottom-right"],defaultDuration:3000},description:"MD3 Snackbar/Toast Notification component"});class y{#e=[];#t=!1;schedule(e){if(this.#e.push(e),!this.#t)this.#t=!0,requestAnimationFrame(()=>this.#s())}#s(){let e=this.#e.slice();this.#e=[],this.#t=!1;for(let t of e)try{t()}catch(s){console.error("[RenderScheduler] Error:",s)}}}var k=new y;class v{#e=[];#t=[];#s=!1;read(e){this.#e.push(e),this.#i()}write(e){this.#t.push(e),this.#i()}#i(){if(!this.#s)this.#s=!0,requestAnimationFrame(()=>this.#a())}#a(){let e;while(e=this.#e.shift())try{e()}catch(t){console.error(t)}while(e=this.#t.shift())try{e()}catch(t){console.error(t)}if(this.#s=!1,this.#e.length||this.#t.length)this.#i()}}var L=new v;var b={set(e){if(e==="auto"){let t=window.matchMedia("(prefers-color-scheme: dark)").matches;document.documentElement.setAttribute("data-theme",t?"dark":"light")}else document.documentElement.setAttribute("data-theme",e);localStorage.setItem("au-theme",e),c.emit(l.THEME_CHANGE,{theme:e})},get(){return document.documentElement.getAttribute("data-theme")||"light"},toggle(){let e=this.get();this.set(e==="dark"?"light":"dark")},init(){let e=localStorage.getItem("au-theme");if(e)this.set(e);else this.set("auto");this._mql=window.matchMedia("(prefers-color-scheme: dark)"),this._onMqlChange=(t)=>{if(localStorage.getItem("au-theme")==="auto")document.documentElement.setAttribute("data-theme",t.matches?"dark":"light")},this._mql.addEventListener("change",this._onMqlChange)},destroy(){if(this._mql&&this._onMqlChange)this._mql.removeEventListener("change",this._onMqlChange),this._mql=null,this._onMqlChange=null}};if(typeof window<"u")b.init();function I(e={}){let t={...e},s=new Set;return{get(){return t},set(i){t={...t,...i},this.notify()},update(i){let a=i(t);this.set(a)},subscribe(i){return s.add(i),i(t),()=>s.delete(i)},notify(){for(let i of s)i(t)},reset(){t={...e},this.notify()}}}var j=I({}),ee="startViewTransition"in document;class C extends o{static baseClass="au-theme-toggle";connectedCallback(){super.connectedCallback(),this.listen(this,"click",()=>b.toggle()),c.on(l.THEME_CHANGE,()=>this.#e())}render(){this.innerHTML=`
            <button class="au-theme-toggle__button" aria-label="Toggle theme">
                <span class="au-theme-toggle__icon"></span>
            </button>
        `,this.#e()}#e(){let e=b.get()==="dark",t=this.querySelector(".au-theme-toggle__icon");if(t)t.textContent=e?"☀️":"\uD83C\uDF19"}}d("au-theme-toggle",C);f("au-theme-toggle",{signals:[l.THEME_CHANGE],options:{themes:["light","dark"],emits:["click"]},description:"Theme toggle button that switches between light/dark modes"});if(!c.hasListeners(l.TOAST_SHOW))c.on(l.TOAST_SHOW,(e)=>{p.show(e.message,e)});
