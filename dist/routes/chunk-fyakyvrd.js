import{n as s,o as n}from"./chunk-1mzjthjp.js";class r extends s{static baseClass="au-intersection";static observedAttributes=["threshold","root-margin","once"];static cssFile=null;static useContainment=!1;#t=null;#i=!1;render(){this.style.display="contents",setTimeout(()=>{if(this.isConnected)this.#e()},0)}get isVisible(){return this.#i}#e(){let t=parseFloat(this.getAttribute("threshold")||"0");if(isNaN(t))t=0;t=Math.max(0,Math.min(1,t));let e=this.getAttribute("root-margin")||"0px",i=this.hasAttribute("once");this.#t=new IntersectionObserver((a)=>this.#s(a,i),{threshold:t,rootMargin:e});let o=this.firstElementChild||this;this.#t.observe(o)}#s(t,e){let i=t[t.length-1];if(i.isIntersecting){if(this.#i=!0,this.emit("au-visible",{ratio:i.intersectionRatio}),e)this.#t?.disconnect()}else this.#i=!1,this.emit("au-hidden",{ratio:i.intersectionRatio})}disconnectedCallback(){if(this.#t)this.#t.disconnect(),this.#t=null;super.disconnectedCallback()}}n("au-intersection",r);
